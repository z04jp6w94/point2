"use strict";function registerElements(e,t){function r(){Array.prototype.forEach.call(l.querySelectorAll("input[type='text'], input[type='email'], input[type='tel']"),function(e){e.removeAttribute("disabled")})}function i(){Array.prototype.forEach.call(l.querySelectorAll("input[type='text'], input[type='email'], input[type='tel']"),function(e){e.setAttribute("disabled","true")})}function n(){var e=document.createElement("input");e.type="submit",e.style.display="none",l.appendChild(e),e.click(),e.remove()}var o="."+t,s=document.querySelector(o),l=s.querySelector("form"),c=s.querySelector("a.reset"),a=l.querySelector(".error"),u=a.querySelector(".message"),d={};e.forEach(function(e,t){e.on("change",function(e){if(e.error)a.classList.add("visible"),d[t]=e.error.message,u.innerText=e.error.message;else{d[t]=null;var r=Object.keys(d).sort().reduce(function(e,t){return e||d[t]},null);r?u.innerText=r:a.classList.remove("visible")}})}),l.addEventListener("submit",function(o){o.preventDefault();var c=!0;if(Array.prototype.forEach.call(l.querySelectorAll("input"),function(e){return e.checkValidity&&!e.checkValidity()?(c=!1,void 0):void 0}),!c)return n(),void 0;s.classList.add("submitting"),i();var a=l.querySelector("#"+t+"-name"),u=l.querySelector("#"+t+"-address"),d=l.querySelector("#"+t+"-city"),y=l.querySelector("#"+t+"-state"),p=l.querySelector("#"+t+"-zip"),v={name:a?a.value:void 0,address_line1:u?u.value:void 0,address_city:d?d.value:void 0,address_state:y?y.value:void 0,address_zip:p?p.value:void 0};stripe.createToken(e[0],v).then(function(e){s.classList.remove("submitting"),e.token?(s.querySelector(".token").innerText=e.token.id,s.classList.add("submitted")):r()})}),c.addEventListener("click",function(t){t.preventDefault(),l.reset(),e.forEach(function(e){e.clear()}),a.classList.remove("visible"),r(),s.classList.remove("submitted")})}var stripe=Stripe("pk_test_6pRNASCoBOKtIshFeQd4XMUh");